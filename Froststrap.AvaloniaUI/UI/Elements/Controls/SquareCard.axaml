<UserControl x:Class="Froststrap.UI.Elements.Controls.SquareCard"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:md="https://github.com/whistyun/Markdown.Avalonia"
             mc:Ignorable="d"
             x:Name="Control">

	<Border Padding="14" Margin="0,6,6,6"
            Background="{DynamicResource CardBackgroundBrush}"
            BorderBrush="{DynamicResource CardBorderBrush}"
            BorderThickness="1"
            CornerRadius="4">
		<Grid MinHeight="140">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<TextBlock Grid.Row="0" FontSize="18" TextWrapping="Wrap"
                       Text="{Binding Header, ElementName=Control}">
				<TextBlock.Styles>
					<Style Selector="TextBlock">
						<Style.Triggers>
							<DataTrigger Binding="{Binding Header, ElementName=Control}" Value="{x:Null}">
								<Setter Property="IsVisible" Value="False"/>
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</TextBlock.Styles>
			</TextBlock>

			<md:MarkdownScrollViewer Grid.Row="1" FontSize="14" TextWrapping="Wrap"
                       Margin="0,6,0,0"
                       Foreground="{DynamicResource TextFillColorTertiaryBrush}"
                       Text="{Binding Description, ElementName=Control}">
				<md:MarkdownScrollViewer.Style>
					<Style Selector="md:MarkdownScrollViewer">
						<Style.Triggers>
							<DataTrigger Binding="{Binding Description, ElementName=Control}" Value="{x:Null}">
								<Setter Property="IsVisible" Value="False"/>
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</md:MarkdownScrollViewer.Style>
			</md:MarkdownScrollViewer>

			<ContentPresenter Grid.Row="2"
                              Content="{Binding InnerContent, ElementName=Control}"
                              VerticalAlignment="Bottom"
                              HorizontalAlignment="Stretch"
                              Margin="0,8,0,0">
				<ContentPresenter.Styles>
					<Style Selector="ContentPresenter">
						<Style.Triggers>
							<DataTrigger Binding="{Binding InnerContent, ElementName=Control}" Value="{x:Null}">
								<Setter Property="IsVisible" Value="False"/>
							</DataTrigger>
						</Style.Triggers>
					</Style>
				</ContentPresenter.Styles>
			</ContentPresenter>
		</Grid>
	</Border>
</UserControl>