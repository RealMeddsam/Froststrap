<base:AvaloniaWindow x:Class="Froststrap.UI.Elements.Dialogs.ChannelListsDialog"
        xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:base="clr-namespace:Froststrap.UI.Elements.Base"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:fa="using:FluentAvalonia.UI.Controls"
        xmlns:resources="clr-namespace:Froststrap.Resources"
        xmlns:converters="clr-namespace:Froststrap.UI.Converters"
        Title="Available Channels"
        Width="700"
        MinHeight="350"
        Height="550"
        CanResize="True"
        WindowStartupLocation="CenterScreen"
        mc:Ignorable="d">

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<fa:TitleBar Title="{x:Static resources:Strings.Menu_ChannelChanger_AvailableChannels}"
                    Grid.Row="0"
                    IconSource="avares://Froststrap.AvaloniaUI/Resources/IconFroststrap.ico"
                    IsMaximizeButtonEnabled="True"
                    IsMinimizeButtonEnabled="True" />

		<TextBlock Grid.Row="1"
                   Text="{x:Static resources:Strings.Menu_ChannelChanger_AvailableChannels_Description}"
                   FontSize="12"
                   Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                   Margin="8,8,0,4"
                   TextWrapping="Wrap" />

		<Grid Grid.Row="2" Margin="8">
			<Grid IsVisible="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}">
				<Border Background="{DynamicResource ControlFillColorDefaultBrush}" Opacity="0.7" />
				<StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
					<ProgressBar Width="200" Height="8" IsIndeterminate="True"/>
					<TextBlock Text="{x:Static resources:Strings.Common_Loading}"
                               FontSize="13" Margin="0,12,0,0"
                               HorizontalAlignment="Center"/>
				</StackPanel>
			</Grid>

			<DataGrid
                ItemsSource="{Binding Channels}"
                IsVisible="{Binding IsLoading, Converter={StaticResource InverseBooleanToVisibilityConverter}}"
                AutoGenerateColumns="False"
                IsReadOnly="True"
                CanUserResizeColumns="True"
                SelectionMode="Single">

				<DataGrid.Styles>
					<Style Selector="DataGridColumnHeader">
						<Setter Property="Background" Value="{DynamicResource ControlFillColorTertiaryBrush}" />
						<Setter Property="Height" Value="30" />
						<Setter Property="Padding" Value="8,0,12,0" />
						<Setter Property="BorderBrush" Value="{DynamicResource ControlElevationBorderBrush}" />
						<Setter Property="BorderThickness" Value="1" />
						<Setter Property="FontWeight" Value="SemiBold" />
					</Style>

					<Style Selector="DataGridCell">
						<Setter Property="Height" Value="30" />
						<Setter Property="Padding" Value="6,0,6,0" />
						<Setter Property="Background" Value="Transparent" />
						<Setter Property="BorderThickness" Value="0" />
					</Style>

					<Style Selector="DataGridCell:pointerover">
						<Setter Property="Background" Value="#14000000" />
					</Style>

					<Style Selector="DataGridCell:selected">
						<Setter Property="Background" Value="#59007ACC" />
						<Setter Property="Foreground" Value="#F0F0F0" />
					</Style>

					<Style Selector="DataGridCell:selected:pointerover">
						<Setter Property="Background" Value="#8C007ACC" />
					</Style>
				</DataGrid.Styles>

				<DataGrid.Columns>
					<DataGridTextColumn Header="Channel Name" Binding="{Binding ChannelName}" Width="150" />
					<DataGridTextColumn Header="Version" Binding="{Binding Version}" Width="*" />
					<DataGridTextColumn Header="Version GUID" Binding="{Binding VersionGuid}" Width="*" />
				</DataGrid.Columns>
			</DataGrid>
		</Grid>

		<Border Grid.Row="3" Margin="0,10,0,0" Padding="15"
                Background="{DynamicResource PrimaryBackgroundColor}">
			<StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
				<Button MinWidth="100"
                        Content="{x:Static resources:Strings.Common_Refresh}"
                        Command="{Binding RefreshCommand}">
					<Button.Styles>
						<Style Selector="Button">
							<Setter Property="Padding" Value="12,6" />
						</Style>
					</Button.Styles>
				</Button>
				<Button MinWidth="100" Margin="12,0,0,0"
                        Click="Close_Click"
                        Content="{x:Static resources:Strings.Common_Close}"
                        IsCancel="True" />
			</StackPanel>
		</Border>
	</Grid>
</base:AvaloniaWindow>